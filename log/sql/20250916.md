알겠습니다 👍
오늘 수업 내용을 정리하면서 **수업 계획**도 보강해드릴게요.

---

# 금일 수업 계획 (수정본)

1. MariaDB 설치 및 HeidiSQL 환경 세팅
2. SQL 기초 문법 복습 (SELECT / WHERE / ORDER BY)
3. **데이터 집계 함수 & 일반 함수 학습**

   * SUM / AVG / MIN / MAX / COUNT
   * ROUND / SUBSTR / LENGTH / UPPER / LOWER
4. **GROUP BY & HAVING**

   * 그룹화된 데이터 집계
   * 그룹화 이후 조건 필터링
   * 실행 순서 이해 (FROM → WHERE → GROUP BY → HAVING → SELECT → ORDER BY)
5. **JOIN / UNION / SubQuery**

   * INNER JOIN / LEFT JOIN 실습
   * 다중 JOIN (users + orders + orderdetails)
   * UNION (상하 결합) 소개
   * 서브쿼리 활용 개념

---

# 오늘 수업 주요 학습 내용 요약

## 1. 집계 함수 (Aggregate Functions)

* **COUNT** : 행 개수
* **SUM** : 합계
* **AVG** : 평균
* **MIN / MAX** : 최소 / 최대값

```sql
SELECT COUNT(*) FROM users;
SELECT SUM(price) FROM products;
SELECT ROUND(AVG(discount_price),2) AS avgPrice FROM products;
```

## 2. 일반 함수 (String & Number Functions)

* **ROUND()** : 반올림
* **SUBSTR()** : 문자열 자르기 (index 1부터 시작)
* **LENGTH()** : 문자열 길이
* **UPPER / LOWER** : 대문자 / 소문자 변환

```sql
SELECT SUBSTR(created_at,1,7) AS month FROM users;
SELECT LENGTH(username), username FROM users;
```

---

## 3. GROUP BY

* 특정 기준으로 데이터를 묶어서 집계

```sql
SELECT country, COUNT(DISTINCT id) AS userCnt
FROM users
GROUP BY country;
```

* 다중 그룹화 가능 → 순서 중요

```sql
SELECT country, city, COUNT(id) AS userCnt
FROM users
GROUP BY country, city
ORDER BY country, userCnt DESC;
```

---

## 4. HAVING

* **GROUP BY 이후 집계값을 조건으로 필터링**

```sql
SELECT country, COUNT(id) AS cnt
FROM users
GROUP BY country
HAVING cnt > 7
ORDER BY cnt DESC;
```

쿼리 실행 순서:
`FROM → WHERE → GROUP BY → HAVING → SELECT → ORDER BY`

---

## 5. JOIN

* **INNER JOIN** → 교집합

```sql
SELECT * 
FROM users u
INNER JOIN orders o
ON u.id = o.user_id;
```

* **LEFT JOIN** → 기준 테이블(users) 데이터는 모두 보존, 없는 값은 NULL

```sql
SELECT * 
FROM users u
LEFT JOIN orders o
ON u.id = o.user_id;
```

* **다중 JOIN (users + orders + orderdetails)**

```sql
SELECT u.id, u.username, u.phone, o.id, od.product_id
FROM users u
LEFT JOIN orders o ON u.id = o.user_id
INNER JOIN orderdetails od ON o.id = od.order_id;
```

---

## 6. UNION & SubQuery

* **UNION** → 컬럼 개수/순서가 같은 두 결과 집합을 상하로 합침
* **SubQuery** → 쿼리 속의 쿼리 (조건이나 SELECT 절에서 재사용 가능)

---

👉 오늘 수업의 핵심은

* **집계 함수로 계산**하고,
* **GROUP BY로 묶고**,
* **HAVING으로 조건 필터링**하며,
* **JOIN으로 테이블을 연결**하는 것까지 익히는 것입니다.

---

원하시면 제가 **오늘 배운 SQL 구문 정리본**을 `sql.md` 형태로 정리해드릴까요? (예: 집계 함수, GROUP BY/HAVING, JOIN 예제만 따로 깔끔하게 모아둔 버전)
